{"version":3,"sources":["components/Profile.js","components/Comments.js","components/Tweet.js","components/TweetBox.js","components/Uploader.js","components/NewTweetBox.js","components/SearchItems.js","components/SearchResults.js","ConfirmEmail.js","ResetPassword.js","AppRouter.js","App.js","serviceWorker.js","index.js"],"names":["Profile","props","react_default","a","createElement","className","id","src","profilePicture","alt","username","usernameShort","tweetCounter","Comments","comment","library","add","faEyeSlash","faComments","Tweet","comments","useEffect","formated","tweet","length","split","setComment","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","commentsOpen","setCommentsOpen","_useState5","_useState6","inputValue","setInputValue","_useState7","_useState8","posted","setPosted","Fragment","timestamp_default","time","timesOfTweet","autoUpdate","type","placeholder","value","onChange","e","target","onKeyDown","event","keyCode","setTimeout","onClick","react_fontawesome_index_es","icon","size","map","index","key","components_Comments","TweetBox","tweets","components_Tweet","datakey","timesOfTweets","owner_id","Uploader","_this","this","widget","uploadcare","Widget","uploader","_this$props","onUploadComplete","files","onDialogOpen","dialog","reject","jQuery","when","apply","cancel","widgetElement","next","data","inputElement","remove","attributes","assign","_this2","getInputAttributes","ref","input","Component","newTimesSorted","NewTweetBox","array","timesSorted","push","item","times","sort","b","toLowerCase","replace","SearchItems","following","setFollowing","i","checkIfFollowing","unfollow","follow","SearchResults","searchResultsArray","components_SearchItems","ConfirmEmail","ResetPassword","client","Stitch","initializeDefaultAppClient","AppRouter","react_router_dom","to","react_router","path","exact","component","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","tweetValue","usernameValue","search","searchEmpty","home","email","password","usernameInput","bind","assertThisInitialized","usernameInputKeyHandler","handleTweetChange","handleTweetKeyDown","post","updateDb","uploadPicture","getSearch","clearSearch","searchResults","setIntitalState","checkForChanges","checkForOwnChanges","registerEmail","confirmEmail","resultsSorted","resetPassword","emailInput","passwordInput","db","getServiceClient","RemoteMongoClient","factory","user","auth","loginWithCredential","AnonymousCredential","defaultAppClient","getProviderClient","UserPasswordAuthProviderClient","registerWithEmail","then","console","log","catch","err","setState","url","window","location","params","URLSearchParams","token","get","tokenId","confirmUser","newPassword","alert","newTweet","newTweetTime","Date","getTime","unshift","collection","updateOne","$set","upsert","error","info","uuid","arg","find","RegExp","toArray","results","toConsumableArray","newFollowing","filter","el","_this3","findOne","docs","_this4","indexOf","_this5","list","$in","followingSorted","j","_this6","_this7","interval","setInterval","selfInterval","prevProps","prevState","clearInterval","_this8","htmlFor","components_SearchResults","components_Profile","components_Uploader","name","data-tabs","file","progress","done","components_TweetBox","components_NewTweetBox","Boolean","hostname","match","ReactDOM","render","src_AppRouter","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8VAiBeA,SAfC,SAAAC,GACd,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKE,GAAG,gBAAgBC,IAAKN,EAAMO,eAAgBC,IAAI,aAEzDP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,WAAMH,EAAMS,UACZR,EAAAC,EAAAC,cAAA,WAAMH,EAAMU,eACZT,EAAAC,EAAAC,cAAA,sBAAcH,EAAMW,2CCLbC,EAJE,SAAAZ,GACf,OAAOC,EAAAC,EAAAC,cAAA,SAAIH,EAAMa,wCCInBC,IAAQC,IAAIC,IAAYC,KACxB,IAiGeC,EAjGD,SAAAlB,GACZ,IAAImB,EAAW,GACfC,oBAAU,WACR,IAAIC,EAAW,GACfA,EAAS,GAAKrB,EAAMsB,MAElBH,EADyB,IAAvBE,EAAS,GAAGE,OACHF,EAAS,GAAG,GAAGG,MAAM,MAErBH,EAAS,GAAGG,MAAM,MAE/BC,EAAWN,IACV,CAACnB,EAAMsB,QAXW,IAAAI,EAYSC,mBAAS,IAZlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAYdb,EAZce,EAAA,GAYLH,EAZKG,EAAA,GAAAG,EAamBJ,oBAAS,GAb5BK,EAAAH,OAAAC,EAAA,EAAAD,CAAAE,EAAA,GAadE,EAbcD,EAAA,GAaAE,EAbAF,EAAA,GAAAG,EAceR,mBAAS,IAdxBS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAcdE,EAdcD,EAAA,GAcFE,EAdEF,EAAA,GAAAG,EAeOZ,oBAAS,GAfhBa,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAedE,EAfcD,EAAA,GAeNE,EAfMF,EAAA,GA0BrB,OACEvC,EAAAC,EAAAC,cAACF,EAAAC,EAAMyC,SAAP,KACE1C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAAA,OAAKG,IAAKN,EAAMO,eAAgBC,IAAI,aAEtCP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAkBJ,EAAMU,eACxCT,EAAAC,EAAAC,cAACyC,EAAA1C,EAAD,CACEE,UAAU,aACVyC,KAAM7C,EAAM8C,aACZC,YAAU,IAEZ9C,EAAAC,EAAAC,cAAA,SAAIU,EAAQ,MAGhBZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,SACE6C,KAAK,OACLC,YAAY,4CACZ7C,UACE6B,EAAe,sBAAwB,wBAEzCiB,MAAOb,EACPc,SAAU,SAAAC,GAAC,OAAId,EAAcc,EAAEC,OAAOH,QACtCI,UAAW,SAAAC,GACTvD,EAAMa,QAAQb,EAAOqC,EAAYkB,EAAMC,SAlCnC,KAmCSD,EAAMC,UAlCzBlB,EAAc,IACdI,GAAU,IAEZe,WAAW,WACTf,GAAU,IACT,QAgCCzC,EAAAC,EAAAC,cAAA,OACEC,UACEqC,EAAS,0BAA4B,+BAGvCxC,EAAAC,EAAAC,cAAA,uBAED8B,EACChC,EAAAC,EAAAC,cAAA,UACEC,UAAU,yCACVsD,QAAS,kBAAMxB,GAAiBD,KAEhChC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAiBC,KAAK,YAAYC,KAAK,QAGzC5D,EAAAC,EAAAC,cAAA,UACEC,UAAU,yCACVsD,QAAS,kBAAMxB,GAAiBD,KAEhChC,EAAAC,EAAAC,cAACwD,EAAA,EAAD,CAAiBC,KAAK,WAAWC,KAAK,SAK5C5D,EAAAC,EAAAC,cAAA,OACEC,UACE6B,EAAe,yBAA2B,4BAG3CpB,EAAQiD,IAAI,SAACjD,EAASkD,GAAV,OACD,IAAVA,EAAc,KACZ9D,EAAAC,EAAAC,cAAA,OAAK6D,IAAKD,GACR9D,EAAAC,EAAAC,cAAC8D,EAAD,CAAUpD,QAASA,UCtElBqD,SAtBE,SAAAlE,GACf,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,UACGH,EAAMmE,OAAOL,IAAI,SAACxC,EAAOyC,GAAR,OAChB9D,EAAAC,EAAAC,cAACiE,EAAD,CACEJ,IAAKD,EACLM,QAASN,EACTxC,OAAQvB,EAAMmE,OAAO5C,OACrBD,MAAOA,EACPwB,aAAc9C,EAAMsE,cAAcP,GAClCrD,cAAeV,EAAMU,cACrBH,eAAgBP,EAAMO,eACtBM,QAASb,EAAMa,QACf0D,SAAUvE,EAAMuE,kCCoDbC,8LAlEO,IAAAC,EAAAC,KACZC,EAASC,IAAWC,OAAOH,KAAKI,UADpBC,EAE4BL,KAAK1E,MAA3CkD,EAFU6B,EAEV7B,MAAOC,EAFG4B,EAEH5B,SAAU6B,EAFPD,EAEOC,iBAEJ,qBAAV9B,GACTyB,EAAOzB,MAAMA,GAES,oBAAbC,GACTwB,EAAOxB,SAAS,SAAA8B,GAEZR,EAAKQ,MADHA,EAEAR,EAAKQ,OAASR,EAAKQ,MAAMA,MAAQR,EAAKQ,MAAMA,QAAU,CAACR,EAAKQ,OAEjD,KAGf9B,EAAS8B,KAGmB,oBAArBD,GACTL,EAAOK,iBAAiBA,GAE1BL,EAAOO,aAAa,SAAAC,GAAM,OAAKV,EAAKU,OAASA,mDAIzCT,KAAKS,QACPT,KAAKS,OAAOC,SAEVV,KAAKO,OACPL,IAAWS,OAAOC,KAAKC,MAAM,KAAMb,KAAKO,OAAOO,SAGjD,IAAMC,EAAgBb,IACnBS,OAAOX,KAAKI,UACZY,KAAK,uBACFf,EAASc,EAAcE,KAAK,oBAE9BhB,GAAUA,EAAOiB,eAAiBlB,KAAKI,UACzCW,EAAcI,sDAKhB,IAAMC,EAAajE,OAAOkE,OAAO,GAAIrB,KAAK1E,OAM1C,cAJO8F,EAAW5C,aACX4C,EAAW3C,gBACX2C,EAAWd,iBAEXc,mCAGA,IAAAE,EAAAtB,KACDoB,EAAapB,KAAKuB,qBAExB,OACEhG,EAAAC,EAAAC,cAAA,QAAA0B,OAAAkE,OAAA,CACE/C,KAAK,SACLkD,IAAK,SAAAC,GAAK,OAAKH,EAAKlB,SAAWqB,IAC3BL,WA7DWM,aCAnBC,EAAiB,GAoDNC,EAlDK,SAAAtG,GA0BlB,OAzBa,WACX,IAAIuG,EAAQ,GACRC,EAAc,GAClBD,EAAME,KAAKzG,EAAMmE,QACjBoC,EAAMzC,IAAI,SAAA4C,GAgBR,OAfAA,EAAK5C,IAAI,SAAA6C,GAaP,OAZAA,EAAMrC,cAAcR,IAAI,SAACQ,EAAeP,GAQtC,OAPAyC,EAAYC,KAAK,CACfnC,EACAqC,EAAMxC,OAAOJ,GACb4C,EAAMlG,SACNkG,EAAMpG,eACNoG,EAAMpC,WAEA8B,EAAiBG,EAAYI,KAAK,SAAS1G,EAAG2G,GACpD,OAAOA,EAAE,GAAK3G,EAAE,OAGb,OAEF,OAGX0G,GAE4B,IAAxB5G,EAAMmE,OAAO5C,OAEbtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,UACGkG,EAAevC,IAAI,SAAC4C,EAAM3C,GAAP,OAClB9D,EAAAC,EAAAC,cAACiE,EAAD,CACEC,QAASN,EACTC,IAAKD,EACLrD,cAAe,IAAMgG,EAAK,GAAGI,cAAcC,QAAQ,MAAO,IAC1DjE,aAAc4D,EAAK,GACnBnG,eAAgBmG,EAAK,GACrBpF,MAAOoF,EAAK,GACZ7F,QAASb,EAAMa,QACf0D,SAAUmC,EAAK,SAOlB,MCOIM,SAvDK,SAAAhH,GAAS,IAAA0B,EACOC,oBAAS,GADhBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACpBuF,EADoBrF,EAAA,GACTsF,EADStF,EAAA,GAgB3B,OAJAR,oBAAU,YATV,WACE,IAAK,IAAI+F,EAAI,EAAGA,EAAInH,EAAMiH,UAAU1F,OAAQ4F,IAAK,CAC/C,GAAInH,EAAMK,KAAOL,EAAMiH,UAAUE,GAAG5C,SAAU,CAC5C2C,GAAa,GACb,MACKA,GAAa,IAKtBE,IACC,CAACpH,EAAM0G,OAGRzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,kBACVE,IAAKN,EAAM0G,KAAKnG,eAChBC,IAAI,YAENP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,SAAIH,EAAM0G,KAAKjG,UACfR,EAAAC,EAAAC,cAAA,SAAI,IAAMH,EAAM0G,KAAKjG,SAASqG,cAAcC,QAAQ,MAAO,KAC3D9G,EAAAC,EAAAC,cAAA,oBAAYH,EAAM0G,KAAKvC,OAAO5C,UAGjC0F,EACChH,EAAAC,EAAAC,cAAA,UACEC,UAAU,WACVsD,QAAS,WACP1D,EAAMqH,SAASrH,EAAM0G,MACrBQ,GAAa,KAJjB,YAUAjH,EAAAC,EAAAC,cAAA,UACEC,UAAU,SACVsD,QAAS,WACP1D,EAAMsH,OAAOtH,EAAM0G,MACnBQ,GAAa,KAJjB,aCtBOK,SAlBO,SAAAvH,GACpB,OACEC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACXJ,EAAMwH,mBAAmB1D,IAAI,SAAC4C,EAAM3C,GAAP,OAC5B9D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmB4D,IAAKD,GACpC9D,EAAAC,EAAAC,cAACsH,EAAD,CACEf,KAAMA,EACNrG,GAAIqG,EAAKnC,SACT+C,OAAQtH,EAAMsH,OACdD,SAAUrH,EAAMqH,SAChBJ,UAAWjH,EAAMiH,kCCRdS,EAJM,WACnB,OAAOzH,EAAAC,EAAAC,cAAA,4BCGMwH,EAJO,WACpB,OAAO1H,EAAAC,EAAAC,cAAA,mCCQIyH,EAASC,IAAOC,2BAA2B,uBA2BzCC,EA1BG,WAChB,OACE9H,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,KACE/H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAG,KAAT,SAEFhI,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAG,kBAAT,UAEFhI,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,CAAMC,GAAG,mBAAT,YAKNhI,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWC,IACjCrI,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAOC,KAAK,iBAAiBE,UAAWX,IACxCzH,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAOC,KAAK,kBAAkBE,UAAWV,OCkhBlCW,qBAliBb,SAAAA,EAAYtI,GAAO,IAAAyE,EAAA,OAAA5C,OAAA0G,EAAA,EAAA1G,CAAA6C,KAAA4D,IACjB7D,EAAA5C,OAAA2G,EAAA,EAAA3G,CAAA6C,KAAA7C,OAAA4G,EAAA,EAAA5G,CAAAyG,GAAAI,KAAAhE,KAAM1E,KA6BR2I,MAAQ,CACNpI,eAAgB,WAChBE,SAAU,GACV6D,cAAe,GACfH,OAAQ,GACRyE,WAAY,GACZC,cAAe,GACfC,OAAQ,GACRC,aAAa,EACbvB,mBAAoB,GACpBP,UAAW,GACX+B,MAAM,EACNzE,SAAU,GACV0E,MAAO,GACPC,SAAU,IAzCVzE,EAAK0E,cAAgB1E,EAAK0E,cAAcC,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAK6E,wBAA0B7E,EAAK6E,wBAAwBF,KAA7BvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAC/BA,EAAK8E,kBAAoB9E,EAAK8E,kBAAkBH,KAAvBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACzBA,EAAK+E,mBAAqB/E,EAAK+E,mBAAmBJ,KAAxBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAC1BA,EAAKgF,KAAOhF,EAAKgF,KAAKL,KAAVvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACZA,EAAKiF,SAAWjF,EAAKiF,SAASN,KAAdvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAChBA,EAAKkF,cAAgBlF,EAAKkF,cAAcP,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAKmF,UAAYnF,EAAKmF,UAAUR,KAAfvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACjBA,EAAKoF,YAAcpF,EAAKoF,YAAYT,KAAjBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACnBA,EAAKqF,cAAgBrF,EAAKqF,cAAcV,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAK6C,OAAS7C,EAAK6C,OAAO8B,KAAZvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACdA,EAAK4C,SAAW5C,EAAK4C,SAAS+B,KAAdvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAChBA,EAAKsF,gBAAkBtF,EAAKsF,gBAAgBX,KAArBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACvBA,EAAK5D,QAAU4D,EAAK5D,QAAQuI,KAAbvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACfA,EAAKuF,gBAAkBvF,EAAKuF,gBAAgBZ,KAArBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACvBA,EAAKwF,mBAAqBxF,EAAKwF,mBAAmBb,KAAxBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAC1BA,EAAKyF,cAAgBzF,EAAKyF,cAAcd,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAK0F,aAAe1F,EAAK0F,aAAaf,KAAlBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACpBA,EAAK2F,cAAgB3F,EAAK4F,cAAcjB,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAK6F,WAAa7F,EAAK6F,WAAWlB,KAAhBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KAClBA,EAAK8F,cAAgB9F,EAAK8F,cAAcnB,KAAnBvH,OAAAwH,EAAA,EAAAxH,QAAAwH,EAAA,EAAAxH,CAAA4C,KACrBA,EAAK+F,GAAK5C,EACP6C,iBAAiBC,IAAkBC,QAAS,iBAC5CH,GAAG,QACN/F,EAAKmG,KAAOhD,EAAOiD,KAAKC,oBAAoB,IAAIC,KA3B/BtG,6EA+CLwE,EAAOC,GACKrB,IAAOmD,iBAAiBH,KAAKI,kBACnDC,IAA+BP,SAI9BQ,kBAAkBlC,EAAOC,GACzBkC,KAAK,WACJC,QAAQC,IAAI,mDAEbC,MAAM,SAAAC,GACLH,QAAQC,IAAI,8BAA+BE,wCAGtCjI,GACTmB,KAAK+G,SAAS,CACZxC,MAAO1F,EAAMF,OAAOH,8CAGVK,GACZmB,KAAK+G,SAAS,CACZvC,SAAU3F,EAAMF,OAAOH,+CAKzB,IAAMwI,EAAMC,OAAOC,SAAS9C,OACtB+C,EAAS,IAAIC,gBAAgBJ,GAC7BK,EAAQF,EAAOG,IAAI,SACnBC,EAAUJ,EAAOG,IAAI,WAO3B,OAJwBnE,IAAOmD,iBAAiBH,KAAKI,kBACnDC,IAA+BP,SAGVuB,YAAYH,EAAOE,yCAE9BE,GACZ,IAAMT,EAAMC,OAAOC,SAAS9C,OACtB+C,EAAS,IAAIC,gBAAgBJ,GAE7BK,EAAQF,EAAOG,IAAI,SACnBC,EAAUJ,EAAOG,IAAI,WAIHnE,IAAOmD,iBAAiBH,KAAKI,kBACnDC,IAA+BP,SAI9BN,cAAc0B,EAAOE,EAASE,GAC9Bf,KAAK,WACJC,QAAQC,IAAI,kCAEbC,MAAM,SAAAC,GACLH,QAAQC,IAAI,4BAA6BE,2CAGjCjI,GACZmB,KAAK+G,SAAS,CACZ5C,cAAetF,EAAMF,OAAOH,wDAGRK,GACJ,UAAdA,EAAMS,MACHT,EAAMF,OAAOH,OAChBkJ,MAAM,uBAER1H,KAAK+G,SAAS,CACZhL,SAAUiE,KAAKiE,MAAME,2DAKTtF,GAChBmB,KAAK+G,SAAS,CACZ7C,WAAYrF,EAAMF,OAAOH,mDAGVK,GACC,UAAdA,EAAMS,KACRU,KAAK+E,sCAIP,GAA8B,KAA1B/E,KAAKiE,MAAMC,WAAmB,CAChC,IAAIyD,EAAW3H,KAAKiE,MAAMxE,OACtBmI,EAAe5H,KAAKiE,MAAMrE,cAE1BzB,GADO,IAAI0J,MACCC,UAAY,IAC5BF,EAAaG,QAAQ5J,GACrBwJ,EAASI,QAAQ/H,KAAKiE,MAAMC,YAC5BlE,KAAK+G,SAAS,CACZtH,OAAQkI,EACR/H,cAAegI,EACf1D,WAAY,KAEdlE,KAAKgF,+CAIPhF,KAAK8F,GACFkC,WAAW,QACXC,UACC,CAAEpI,SAAUqD,EAAOiD,KAAKD,KAAKvK,IAC7B,CACEuM,KAAM,CACJrM,eAAgBmE,KAAKiE,MAAMpI,eAC3BE,SAAUiE,KAAKiE,MAAME,eAAiBnE,KAAKiE,MAAMlI,SACjD0D,OAAQO,KAAKiE,MAAMxE,OACnBG,cAAeI,KAAKiE,MAAMrE,cAC1B2C,UAAWvC,KAAKiE,MAAM1B,YAG1B,CAAE4F,QAAQ,IAEXtB,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,2CAGNuB,GACZrI,KAAK8F,GACFkC,WAAW,QACXC,UACC,CAAEpI,SAAUqD,EAAOiD,KAAKD,KAAKvK,IAC7B,CACEuM,KAAM,CACJrM,eACE,wBAA0BwM,EAAKC,KAAO,oBAG5CtI,KAAK+G,SAAS,CACZlL,eACE,wBAA0BwM,EAAKC,KAAO,oBAE1C,CAAEH,QAAQ,IAEXtB,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,uCAIVjI,GACmB,KAAvBA,EAAMF,OAAOH,OACfwB,KAAK+G,SAAS,CACZ1C,aAAa,IAEfrE,KAAKoF,cAAcvG,EAAMF,OAAOH,QAEhCwB,KAAK+G,SAAS,CACZ1C,aAAa,IAGjBrE,KAAK+G,SAAS,CACZ3C,OAAQvF,EAAMF,OAAOH,8CAIvBwB,KAAK+G,SAAS,CACZ1C,aAAa,EACbD,OAAQ,2CAGEmE,GAAK,IAAAjH,EAAAtB,KACjBA,KAAK8F,GACFkC,WAAW,QACXQ,KAAK,CAAEzM,SAAU,IAAI0M,OAAOF,KAC5BG,UACAhC,KAAK,SAAAiC,GACAA,EAAQ9L,OAAS,GACnByE,EAAKyF,SAAS,CACZjE,mBAAmB3F,OAAAyL,EAAA,EAAAzL,CAAKwL,sCAK3B3G,GACL,IAAI6G,EAAe7I,KAAKiE,MAAM1B,UAC9BsG,EAAa9G,KAAKC,GAClBhC,KAAK+G,SAAS,CACZxE,UAAUpF,OAAAyL,EAAA,EAAAzL,CAAK0L,sCAGV7G,GACP,IAAI6G,EAAe7I,KAAKiE,MAAM1B,UAAUuG,OAAO,SAASC,GACtD,OAAOA,EAAGlJ,WAAamC,EAAKnC,WAEF,IAAxBgJ,EAAahM,QACfmD,KAAK+G,SAAS,CACZxE,UAAW,KAGfvC,KAAK+G,SAAS,CACZxE,UAAUpF,OAAAyL,EAAA,EAAAzL,CAAK0L,+CAGD,IAAAG,EAAAhJ,KAChBA,KAAKkG,KACFQ,KAAK,kBACJsC,EAAKlD,GAAGkC,WAAW,QAAQiB,QAAQ,CAAEpJ,SAAUqD,EAAOiD,KAAKD,KAAKvK,OAEjE+K,KAAK,SAAAwC,GACAA,GACFF,EAAKjC,SAAS,CACZlL,eAAgBqN,EAAKrN,gBAAkB,WACvC4D,OAAQyJ,EAAKzJ,OACbG,cAAesJ,EAAKtJ,cACpB7D,SAAUmN,EAAKnN,SACfwG,UAAW2G,EAAK3G,WAAa,GAC7B1C,SAAUqJ,EAAKrJ,aAIpBgH,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,qCAGZ9E,EAAMxD,EAAOc,GAAK,IAAA6J,EAAAnJ,KACxB2G,QAAQC,IAAI5E,EAAMxD,EAAOc,GACb,KAARA,GAAwB,KAAVd,IAChBmI,QAAQC,IAAI,iBACZ5G,KAAKkG,KACFQ,KAAK,kBACJyC,EAAKrD,GAAGkC,WAAW,QAAQiB,QAAQ,CAAEpJ,SAAUmC,EAAKnC,aAErD6G,KAAK,SAAAwC,GACJ,IAAI7J,EAAQ6J,EAAKtJ,cAAcwJ,QAAQpH,EAAK5D,cAC5CuI,QAAQC,IAAIvH,GACZ,IAAII,EAASyJ,EAAKzJ,OAClBA,EAAOJ,GACLI,EAAOJ,GACP,KACAb,EACA,MAEA2K,EAAKlF,MAAMlI,SAASqG,cAAcC,QAAQ,MAAO,IACnDsE,QAAQC,IAAInH,GACZ0J,EAAK7D,kBACL6D,EAAKrD,GACFkC,WAAW,QACXC,UACC,CAAEpI,SAAUmC,EAAKnC,UACjB,CACEqI,KAAM,CACJzI,OAAQA,IAGZ,CAAE0I,QAAQ,IAEXtB,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,KAEd9E,EAAKnC,WAAaqD,EAAOiD,KAAKD,KAAKvK,GACrCwN,EAAKpC,SAAS,CACZtH,OAAQA,KAGV0J,EAAK7D,kBACL6D,EAAKnE,cAGR6B,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,gDAMpB,IAFgB,IAAAuC,EAAArJ,KACZsJ,EAAO,GACF7G,EAAI,EAAGA,EAAIzC,KAAKiE,MAAM1B,UAAU1F,OAAQ4F,IAC/C6G,EAAKvH,KAAK/B,KAAKiE,MAAM1B,UAAUE,GAAG5C,UAEpCG,KAAK8F,GACFkC,WAAW,QACXQ,KAAK,CACJ3I,SAAU,CACR0J,IAAKD,KAGRZ,UACAhC,KAAK,SAAAiC,GAOJ,IANA,IAAIjD,EAAgBiD,EAAQzG,KAAK,SAAC1G,EAAG2G,GAAJ,OAC/B3G,EAAEqE,SAAWsC,EAAEtC,SAAW,EAAIsC,EAAEtC,SAAWrE,EAAEqE,UAAY,EAAI,IAE3D2J,EAAkBH,EAAKpF,MAAM1B,UAAUL,KAAK,SAAC1G,EAAG2G,GAAJ,OAC9C3G,EAAEqE,SAAWsC,EAAEtC,SAAW,EAAIsC,EAAEtC,SAAWrE,EAAEqE,UAAY,EAAI,IAEtD4C,EAAI,EAAGA,EAAI+G,EAAgB3M,OAAQ4F,IAC1C,IAAK,IAAIgH,EAAI,EAAGA,EAAI/D,EAAcjD,GAAGhD,OAAO5C,OAAQ4M,IAEhD/D,EAAcjD,GAAGhD,OAAOgK,KAAOD,EAAgB/G,GAAGhD,OAAOgK,IACzD/D,EAAcjD,GAAG5G,iBACf2N,EAAgB/G,GAAG5G,iBAErBwN,EAAKtC,SAAS,CACZxE,UAAWmD,IAEbiB,QAAQC,IAAI,uEAMH,IAAA8C,EAAA1J,KACnBA,KAAKkG,KACFQ,KAAK,kBACJgD,EAAK5D,GAAGkC,WAAW,QAAQiB,QAAQ,CAAEpJ,SAAUqD,EAAOiD,KAAKD,KAAKvK,OAEjE+K,KAAK,SAAAwC,GACJ,IAAK,IAAIzG,EAAI,EAAGA,EAAIyG,EAAKzJ,OAAO5C,QAC1BqM,EAAKzJ,OAAOgD,KAAOiH,EAAKzF,MAAMxE,OAAOgD,GADHA,IAEpCkE,QAAQC,IACN,SACAsC,EAAKzJ,OAAOgD,GACZ,UACAiH,EAAKzF,MAAMxE,OAAOgD,IAEpBiH,EAAK3C,SAAS,CACZtH,OAAQyJ,EAAKzJ,WAKpBoH,MAAM,SAAAC,GACLH,QAAQyB,MAAMtB,iDAGA,IAAA6C,EAAA3J,KAClBA,KAAKwF,cAAcxF,KAAKiE,MAAMM,MAAOvE,KAAKiE,MAAMO,UAChDxE,KAAKqF,kBACLrF,KAAK4J,SAAWC,YAAY,kBAAMF,EAAKrE,mBAAmB,KAC1DtF,KAAK8J,aAAeD,YAAY,kBAAMF,EAAKpE,sBAAsB,KACjEoB,QAAQC,IAAI1D,8CAEK6G,EAAWC,GAE1BhK,KAAKiE,MAAMpI,iBAAmBmO,EAAUnO,gBACxCmE,KAAKiE,MAAMxE,SAAWuK,EAAUvK,QAChCO,KAAKiE,MAAMlI,WAAaiO,EAAUjO,UAClCiE,KAAKiE,MAAM1B,YAAcyH,EAAUzH,WACnCvC,KAAKiE,MAAMK,OAAS0F,EAAU1F,OAE9BtE,KAAKsF,kBACLtF,KAAKgF,2DAIPiF,cAAcjK,KAAK4J,2CAEZ,IAAAM,EAAAlK,KACP,MAA4B,KAAxBA,KAAKiE,MAAMlI,SAEXR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKG,IAAI,WAAWE,IAAI,UAE1BP,EAAAC,EAAAC,cAAA,6EAGAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,SACEE,GAAG,iBACH2C,KAAK,OACLE,MAAOwB,KAAKiE,MAAME,cAClB1F,SAAUuB,KAAKyE,cACf7F,UAAWoB,KAAK4E,0BAElBrJ,EAAAC,EAAAC,cAAA,SAAOC,UAAU,uBAAuByO,QAAQ,kBAAhD,2CAIF5O,EAAAC,EAAAC,cAAA,SACE6C,KAAK,OACLE,MAAOwB,KAAKiE,MAAMM,MAClB9F,SAAUuB,KAAK4F,aAEjBrK,EAAAC,EAAAC,cAAA,SACE6C,KAAK,SACLE,MAAOwB,KAAKiE,MAAMO,SAClB/F,SAAUuB,KAAK6F,gBAEjBtK,EAAAC,EAAAC,cAAA,UACEuD,QAAS,kBACPkL,EAAK1E,cAAc0E,EAAKjG,MAAMM,MAAO2F,EAAKjG,MAAMO,YAFpD,aAWFjJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMyC,SAAP,KACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,SACEE,GAAG,SACH2C,KAAK,OACLE,MAAOwB,KAAKiE,MAAMG,OAClB3F,SAAUuB,KAAKkF,UACf3G,YAAY,cAEdhD,EAAAC,EAAAC,cAAA,UAAQuD,QAASgB,KAAKmF,aAAtB,UAEAnF,KAAKiE,MAAMI,YAOT,KANF9I,EAAAC,EAAAC,cAAC2O,EAAD,CACEtH,mBAAoB9C,KAAKiE,MAAMnB,mBAC/BP,UAAWvC,KAAKiE,MAAM1B,UACtBK,OAAQ5C,KAAK4C,OACbD,SAAU3C,KAAK2C,YAIrBpH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAC4O,EAAD,CACExO,eAAgBmE,KAAKiE,MAAMpI,eAC3BE,SAAUiE,KAAKiE,MAAMlI,SACrBC,cACE,IAAMgE,KAAKiE,MAAMlI,SAASqG,cAAcC,QAAQ,MAAO,IAEzDpG,aAAc+D,KAAKiE,MAAMxE,OAAO5C,SAElCtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,SAAO0O,QAAQ,QAAf,mBAA8C,IAC9C5O,EAAAC,EAAAC,cAAC6O,EAAD,CACE3O,GAAG,OACH4O,KAAK,OACLC,YAAU,cACV/L,SAAU,SAAAgM,GACR9D,QAAQC,IAAI,iBAAkB6D,GAC1BA,IACFA,EAAKC,SAAS,SAAArC,GAAI,OAChB1B,QAAQC,IAAI,kBAAmByB,EAAKqC,YAEtCD,EAAKE,KAAK,SAAAtC,GAAI,OAAI1B,QAAQC,IAAI,kBAAmByB,OAGrD/H,iBAAkB,SAAA+H,GAAI,OAAI6B,EAAKjF,cAAcoD,QAInD9M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,UACEC,UAAWsE,KAAKiE,MAAMK,KAAO,kBAAoB,SACjDtF,QAAS,kBAAMkL,EAAKnD,SAAS,CAAEzC,MAAM,MAFvC,QAMA/I,EAAAC,EAAAC,cAAA,UACEC,UAAWsE,KAAKiE,MAAMK,KAAO,SAAW,kBACxCtF,QAAS,kBAAMkL,EAAKnD,SAAS,CAAEzC,MAAM,MAFvC,SAOF/I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACZsE,KAAKiE,MAAMK,KACV/I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,SACEE,GAAG,OACH2C,KAAK,OACLE,MAAOwB,KAAKiE,MAAMC,WAClBzF,SAAUuB,KAAK6E,kBACfjG,UAAWoB,KAAK8E,qBAElBvJ,EAAAC,EAAAC,cAAA,SAAOC,UAAU,aAAayO,QAAQ,QAAtC,4CAIA,KAEHnK,KAAKiE,MAAMK,KACV/I,EAAAC,EAAAC,cAACmP,EAAD,CACEnL,OAAQO,KAAKiE,MAAMxE,OACnBG,cAAeI,KAAKiE,MAAMrE,cAC1B/D,eAAgBmE,KAAKiE,MAAMpI,eAC3BG,cACE,IAAMgE,KAAKiE,MAAMlI,SAASqG,cAAcC,QAAQ,MAAO,IAEzDlG,QAAS6D,KAAK7D,QACd0D,SAAUG,KAAKiE,MAAMpE,WAGvBtE,EAAAC,EAAAC,cAACoP,EAAD,CACEpL,OAAQO,KAAKiE,MAAM1B,UACnBpG,QAAS6D,KAAK7D,qBAxhBhBuF,cCHEoJ,QACW,cAA7B7D,OAAOC,SAAS6D,UAEe,UAA7B9D,OAAOC,SAAS6D,UAEhB9D,OAAOC,SAAS6D,SAASC,MACvB,2DCZNC,IAASC,OAAO3P,EAAAC,EAAAC,cAAC0P,EAAD,MAAeC,SAASC,eAAe,SD2HjD,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM9E,KAAK,SAAA+E,GACjCA,EAAaC","file":"static/js/main.3c9b89ad.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../styles/profile.css\";\r\nconst Profile = props => {\r\n  return (\r\n    <div className='profile-flex'>\r\n      <div className='profile-image'>\r\n        <img id='profile-image' src={props.profilePicture} alt='profile' />\r\n      </div>\r\n      <div className='profile-info'>\r\n        <div>{props.username}</div>\r\n        <div>{props.usernameShort}</div>\r\n        <div>Tweets: {props.tweetCounter}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\n\r\nconst Comments = props => {\r\n  return <p>{props.comment}</p>;\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Timestamp from \"react-timestamp\";\r\nimport Comments from \"./Comments.js\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEyeSlash, faComments } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"../styles/tweet.css\";\r\nlibrary.add(faEyeSlash, faComments);\r\nconst Tweet = props => {\r\n  let comments = [];\r\n  useEffect(() => {\r\n    let formated = [];\r\n    formated[0] = props.tweet;\r\n    if (formated[0].length === 1) {\r\n      comments = formated[0][0].split(\"&?\");\r\n    } else {\r\n      comments = formated[0].split(\"&?\");\r\n    }\r\n    setComment(comments);\r\n  }, [props.tweet]);\r\n  const [comment, setComment] = useState([]);\r\n  const [commentsOpen, setCommentsOpen] = useState(false);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [posted, setPosted] = useState(false);\r\n\r\n  function clearComment(key) {\r\n    if (key === 13) {\r\n      setInputValue(\"\");\r\n      setPosted(true);\r\n    }\r\n    setTimeout(function() {\r\n      setPosted(false);\r\n    }, 2000);\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <li className='list-item'>\r\n        <div className='tweet-picture-container'>\r\n          <img src={props.profilePicture} alt='profile' />\r\n        </div>\r\n        <div className='tweet-content'>\r\n          <span className='tweet-username'>{props.usernameShort}</span>\r\n          <Timestamp\r\n            className='tweet-time'\r\n            time={props.timesOfTweet}\r\n            autoUpdate\r\n          />\r\n          <p>{comment[0]}</p>\r\n        </div>\r\n      </li>\r\n      <div className='comments-input'>\r\n        <input\r\n          type='text'\r\n          placeholder='Please enter your comment and press Enter'\r\n          className={\r\n            commentsOpen ? \"comments-input-open\" : \"comments-input-closed\"\r\n          }\r\n          value={inputValue}\r\n          onChange={e => setInputValue(e.target.value)}\r\n          onKeyDown={event => {\r\n            props.comment(props, inputValue, event.keyCode);\r\n            clearComment(event.keyCode);\r\n          }}\r\n        />\r\n        <div\r\n          className={\r\n            posted ? \"posted-indicator posted\" : \"posted-indicator not-posted\"\r\n          }\r\n        >\r\n          <span>Posted</span>\r\n        </div>\r\n        {commentsOpen ? (\r\n          <button\r\n            className='open-comments-button --opened-comments'\r\n            onClick={() => setCommentsOpen(!commentsOpen)}\r\n          >\r\n            <FontAwesomeIcon icon='eye-slash' size='lg' />\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className='open-comments-button --closed-comments'\r\n            onClick={() => setCommentsOpen(!commentsOpen)}\r\n          >\r\n            <FontAwesomeIcon icon='comments' size='lg' />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        className={\r\n          commentsOpen ? \"comments comments-open\" : \"comments comments-closed\"\r\n        }\r\n      >\r\n        {comment.map((comment, index) =>\r\n          index === 0 ? null : (\r\n            <div key={index}>\r\n              <Comments comment={comment} />\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Tweet;\r\n","import React from \"react\";\r\nimport Tweet from \"./Tweet.js\";\r\nimport \"../styles/tweetbox.css\";\r\n\r\nconst TweetBox = props => {\r\n  return (\r\n    <div className='tweetbox-container'>\r\n      <ul>\r\n        {props.tweets.map((tweet, index) => (\r\n          <Tweet\r\n            key={index}\r\n            datakey={index}\r\n            length={props.tweets.length}\r\n            tweet={tweet}\r\n            timesOfTweet={props.timesOfTweets[index]}\r\n            usernameShort={props.usernameShort}\r\n            profilePicture={props.profilePicture}\r\n            comment={props.comment}\r\n            owner_id={props.owner_id}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TweetBox;\r\n","import React, { Component } from \"react\";\r\nimport uploadcare from \"uploadcare-widget\";\r\n\r\nclass Uploader extends Component {\r\n  componentDidMount() {\r\n    const widget = uploadcare.Widget(this.uploader);\r\n    const { value, onChange, onUploadComplete } = this.props;\r\n\r\n    if (typeof value !== \"undefined\") {\r\n      widget.value(value);\r\n    }\r\n    if (typeof onChange === \"function\") {\r\n      widget.onChange(files => {\r\n        if (files) {\r\n          this.files =\r\n            this.files && this.files.files ? this.files.files() : [this.files];\r\n        } else {\r\n          this.files = null;\r\n        }\r\n\r\n        onChange(files);\r\n      });\r\n    }\r\n    if (typeof onUploadComplete === \"function\") {\r\n      widget.onUploadComplete(onUploadComplete);\r\n    }\r\n    widget.onDialogOpen(dialog => (this.dialog = dialog));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.dialog) {\r\n      this.dialog.reject();\r\n    }\r\n    if (this.files) {\r\n      uploadcare.jQuery.when.apply(null, this.files).cancel();\r\n    }\r\n\r\n    const widgetElement = uploadcare\r\n      .jQuery(this.uploader)\r\n      .next(\".uploadcare--widget\");\r\n    const widget = widgetElement.data(\"uploadcareWidget\");\r\n\r\n    if (widget && widget.inputElement === this.uploader) {\r\n      widgetElement.remove();\r\n    }\r\n  }\r\n\r\n  getInputAttributes() {\r\n    const attributes = Object.assign({}, this.props);\r\n\r\n    delete attributes.value;\r\n    delete attributes.onChange;\r\n    delete attributes.onUploadComplete;\r\n\r\n    return attributes;\r\n  }\r\n\r\n  render() {\r\n    const attributes = this.getInputAttributes();\r\n\r\n    return (\r\n      <input\r\n        type='hidden'\r\n        ref={input => (this.uploader = input)}\r\n        {...attributes}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Uploader;\r\n","import React from \"react\";\r\nimport Tweet from \"./Tweet.js\";\r\nimport \"../styles/tweetbox.css\";\r\nlet newTimesSorted = [];\r\n\r\nconst NewTweetBox = props => {\r\n  const sort = () => {\r\n    let array = [];\r\n    let timesSorted = [];\r\n    array.push(props.tweets);\r\n    array.map(item => {\r\n      item.map(times => {\r\n        times.timesOfTweets.map((timesOfTweets, index) => {\r\n          timesSorted.push([\r\n            timesOfTweets,\r\n            times.tweets[index],\r\n            times.username,\r\n            times.profilePicture,\r\n            times.owner_id\r\n          ]);\r\n          return (newTimesSorted = timesSorted.sort(function(a, b) {\r\n            return b[0] - a[0];\r\n          }));\r\n        });\r\n        return null;\r\n      });\r\n      return null;\r\n    });\r\n  };\r\n  sort();\r\n\r\n  if (props.tweets.length !== 0) {\r\n    return (\r\n      <div className='tweetbox-container'>\r\n        <ul>\r\n          {newTimesSorted.map((item, index) => (\r\n            <Tweet\r\n              datakey={index}\r\n              key={index}\r\n              usernameShort={\"@\" + item[2].toLowerCase().replace(/\\s/g, \"\")}\r\n              timesOfTweet={item[0]}\r\n              profilePicture={item[3]}\r\n              tweet={item[1]}\r\n              comment={props.comment}\r\n              owner_id={item[4]}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default NewTweetBox;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles/searchitems.css\";\r\n\r\nconst SearchItems = props => {\r\n  const [following, setFollowing] = useState(false);\r\n\r\n  function checkIfFollowing() {\r\n    for (let i = 0; i < props.following.length; i++) {\r\n      if (props.id === props.following[i].owner_id) {\r\n        setFollowing(true);\r\n        break;\r\n      } else setFollowing(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    checkIfFollowing();\r\n  }, [props.item]);\r\n\r\n  return (\r\n    <div className='search-item-with-button'>\r\n      <div className='search-item-container'>\r\n        <img\r\n          className='search-item-img'\r\n          src={props.item.profilePicture}\r\n          alt='profile'\r\n        />\r\n        <div className='search-item-username'>\r\n          <p>{props.item.username}</p>\r\n          <p>{\"@\" + props.item.username.toLowerCase().replace(/\\s/g, \"\")}</p>\r\n          <p>Tweets: {props.item.tweets.length}</p>\r\n        </div>\r\n      </div>\r\n      {following ? (\r\n        <button\r\n          className='unfollow'\r\n          onClick={() => {\r\n            props.unfollow(props.item);\r\n            setFollowing(false);\r\n          }}\r\n        >\r\n          Unfollow\r\n        </button>\r\n      ) : (\r\n        <button\r\n          className='follow'\r\n          onClick={() => {\r\n            props.follow(props.item);\r\n            setFollowing(true);\r\n          }}\r\n        >\r\n          Follow\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchItems;\r\n","import React from \"react\";\r\nimport SearchItems from \"./SearchItems.js\";\r\nimport \"../styles/searchresults.css\";\r\n\r\nconst SearchResults = props => {\r\n  return (\r\n    <ul className='search-list'>\r\n      {props.searchResultsArray.map((item, index) => (\r\n        <li className='search-list-item' key={index}>\r\n          <SearchItems\r\n            item={item}\r\n            id={item.owner_id}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            following={props.following}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n","import React from \"react\";\r\n\r\nconst ConfirmEmail = () => {\r\n  return <div>ConfirmEmail</div>;\r\n};\r\n\r\nexport default ConfirmEmail;\r\n","import React from \"react\";\r\n\r\nconst ResetPassword = () => {\r\n  return <h1>ResetPassword</h1>;\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport ConfirmEmail from \"./ConfirmEmail\";\r\nimport ResetPassword from \"./ResetPassword\";\r\nimport App from \"./App\";\r\nimport {\r\n  Stitch,\r\n  RemoteMongoClient,\r\n  AnonymousCredential,\r\n  UserPasswordAuthProviderClient\r\n} from \"mongodb-stitch-browser-sdk\";\r\nexport const client = Stitch.initializeDefaultAppClient(\"twitter-clone-hgeer\");\r\nconst AppRouter = () => {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <Link to='/'>Home</Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/confirmEmail/'>About</Link>\r\n            </li>\r\n            <li>\r\n              <Link to='/resetPassword/'>Users</Link>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n\r\n        <Route path='/' exact component={App} />\r\n        <Route path='/confirmEmail/' component={ConfirmEmail} />\r\n        <Route path='/resetPassword/' component={ResetPassword} />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React, { Component } from \"react\";\r\nimport Profile from \"./components/Profile.js\";\r\nimport TweetBox from \"./components/TweetBox.js\";\r\nimport Uploader from \"./components/Uploader\";\r\nimport NewTweetBox from \"./components/NewTweetBox.js\";\r\nimport SearchResults from \"./components/SearchResults.js\";\r\nimport { client } from \"./AppRouter.js\";\r\nimport {\r\n  Stitch,\r\n  RemoteMongoClient,\r\n  AnonymousCredential,\r\n  UserPasswordAuthProviderClient\r\n} from \"mongodb-stitch-browser-sdk\";\r\nimport \"./styles/app.css\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.usernameInput = this.usernameInput.bind(this);\r\n    this.usernameInputKeyHandler = this.usernameInputKeyHandler.bind(this);\r\n    this.handleTweetChange = this.handleTweetChange.bind(this);\r\n    this.handleTweetKeyDown = this.handleTweetKeyDown.bind(this);\r\n    this.post = this.post.bind(this);\r\n    this.updateDb = this.updateDb.bind(this);\r\n    this.uploadPicture = this.uploadPicture.bind(this);\r\n    this.getSearch = this.getSearch.bind(this);\r\n    this.clearSearch = this.clearSearch.bind(this);\r\n    this.searchResults = this.searchResults.bind(this);\r\n    this.follow = this.follow.bind(this);\r\n    this.unfollow = this.unfollow.bind(this);\r\n    this.setIntitalState = this.setIntitalState.bind(this);\r\n    this.comment = this.comment.bind(this);\r\n    this.checkForChanges = this.checkForChanges.bind(this);\r\n    this.checkForOwnChanges = this.checkForOwnChanges.bind(this);\r\n    this.registerEmail = this.registerEmail.bind(this);\r\n    this.confirmEmail = this.confirmEmail.bind(this);\r\n    this.resultsSorted = this.resetPassword.bind(this);\r\n    this.emailInput = this.emailInput.bind(this);\r\n    this.passwordInput = this.passwordInput.bind(this);\r\n    this.db = client\r\n      .getServiceClient(RemoteMongoClient.factory, \"mongodb-atlas\")\r\n      .db(\"test\");\r\n    this.user = client.auth.loginWithCredential(new AnonymousCredential());\r\n  }\r\n\r\n  state = {\r\n    profilePicture: \"logo.png\",\r\n    username: \"\",\r\n    timesOfTweets: [],\r\n    tweets: [],\r\n    tweetValue: \"\",\r\n    usernameValue: \"\",\r\n    search: \"\",\r\n    searchEmpty: true,\r\n    searchResultsArray: [],\r\n    following: [],\r\n    home: true,\r\n    owner_id: \"\",\r\n    email: \"\",\r\n    password: \"\"\r\n  };\r\n\r\n  registerEmail(email, password) {\r\n    const emailPassClient = Stitch.defaultAppClient.auth.getProviderClient(\r\n      UserPasswordAuthProviderClient.factory\r\n    );\r\n\r\n    emailPassClient\r\n      .registerWithEmail(email, password)\r\n      .then(() => {\r\n        console.log(\"Successfully sent account confirmation email!\");\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error registering new user:\", err);\r\n      });\r\n  }\r\n  emailInput(event) {\r\n    this.setState({\r\n      email: event.target.value\r\n    });\r\n  }\r\n  passwordInput(event) {\r\n    this.setState({\r\n      password: event.target.value\r\n    });\r\n  }\r\n  confirmEmail() {\r\n    // Parse the URL query parameters\r\n    const url = window.location.search;\r\n    const params = new URLSearchParams(url);\r\n    const token = params.get(\"token\");\r\n    const tokenId = params.get(\"tokenId\");\r\n\r\n    // Confirm the user's email/password account\r\n    const emailPassClient = Stitch.defaultAppClient.auth.getProviderClient(\r\n      UserPasswordAuthProviderClient.factory\r\n    );\r\n\r\n    return emailPassClient.confirmUser(token, tokenId);\r\n  }\r\n  resetPassword(newPassword) {\r\n    const url = window.location.search;\r\n    const params = new URLSearchParams(url);\r\n\r\n    const token = params.get(\"token\");\r\n    const tokenId = params.get(\"tokenId\");\r\n    //const newPassword = getUserInputFromPage();\r\n\r\n    // Confirm the user's email/password account\r\n    const emailPassClient = Stitch.defaultAppClient.auth.getProviderClient(\r\n      UserPasswordAuthProviderClient.factory\r\n    );\r\n\r\n    emailPassClient\r\n      .resetPassword(token, tokenId, newPassword)\r\n      .then(() => {\r\n        console.log(\"Successfully reset password!\");\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error resetting password:\", err);\r\n      });\r\n  }\r\n  usernameInput(event) {\r\n    this.setState({\r\n      usernameValue: event.target.value\r\n    });\r\n  }\r\n  usernameInputKeyHandler(event) {\r\n    if (event.key === \"Enter\") {\r\n      if (!event.target.value) {\r\n        alert(\"name can't be empty\");\r\n      }\r\n      this.setState({\r\n        username: this.state.usernameValue\r\n      });\r\n    }\r\n  }\r\n\r\n  handleTweetChange(event) {\r\n    this.setState({\r\n      tweetValue: event.target.value\r\n    });\r\n  }\r\n  handleTweetKeyDown(event) {\r\n    if (event.key === \"Enter\") {\r\n      this.post();\r\n    }\r\n  }\r\n  post() {\r\n    if (this.state.tweetValue !== \"\") {\r\n      let newTweet = this.state.tweets;\r\n      let newTweetTime = this.state.timesOfTweets;\r\n      let date = new Date();\r\n      let time = date.getTime() / 1000;\r\n      newTweetTime.unshift(time);\r\n      newTweet.unshift(this.state.tweetValue);\r\n      this.setState({\r\n        tweets: newTweet,\r\n        timesOfTweets: newTweetTime,\r\n        tweetValue: \"\"\r\n      });\r\n      this.updateDb();\r\n    }\r\n  }\r\n  updateDb() {\r\n    this.db\r\n      .collection(\"test\")\r\n      .updateOne(\r\n        { owner_id: client.auth.user.id },\r\n        {\r\n          $set: {\r\n            profilePicture: this.state.profilePicture,\r\n            username: this.state.usernameValue || this.state.username,\r\n            tweets: this.state.tweets,\r\n            timesOfTweets: this.state.timesOfTweets,\r\n            following: this.state.following\r\n          }\r\n        },\r\n        { upsert: true }\r\n      )\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  uploadPicture(info) {\r\n    this.db\r\n      .collection(\"test\")\r\n      .updateOne(\r\n        { owner_id: client.auth.user.id },\r\n        {\r\n          $set: {\r\n            profilePicture:\r\n              \"https://ucarecdn.com/\" + info.uuid + \"/-/resize/150x/\"\r\n          }\r\n        },\r\n        this.setState({\r\n          profilePicture:\r\n            \"https://ucarecdn.com/\" + info.uuid + \"/-/resize/150x/\"\r\n        }),\r\n        { upsert: true }\r\n      )\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  getSearch(event) {\r\n    if (event.target.value !== \"\") {\r\n      this.setState({\r\n        searchEmpty: false\r\n      });\r\n      this.searchResults(event.target.value);\r\n    } else {\r\n      this.setState({\r\n        searchEmpty: true\r\n      });\r\n    }\r\n    this.setState({\r\n      search: event.target.value\r\n    });\r\n  }\r\n  clearSearch() {\r\n    this.setState({\r\n      searchEmpty: true,\r\n      search: \"\"\r\n    });\r\n  }\r\n  searchResults(arg) {\r\n    this.db\r\n      .collection(\"test\")\r\n      .find({ username: new RegExp(arg) })\r\n      .toArray()\r\n      .then(results => {\r\n        if (results.length > 0) {\r\n          this.setState({\r\n            searchResultsArray: [...results]\r\n          });\r\n        }\r\n      });\r\n  }\r\n  follow(item) {\r\n    let newFollowing = this.state.following;\r\n    newFollowing.push(item);\r\n    this.setState({\r\n      following: [...newFollowing]\r\n    });\r\n  }\r\n  unfollow(item) {\r\n    let newFollowing = this.state.following.filter(function(el) {\r\n      return el.owner_id !== item.owner_id;\r\n    });\r\n    if (newFollowing.length === 0) {\r\n      this.setState({\r\n        following: []\r\n      });\r\n    }\r\n    this.setState({\r\n      following: [...newFollowing]\r\n    });\r\n  }\r\n  setIntitalState() {\r\n    this.user\r\n      .then(() =>\r\n        this.db.collection(\"test\").findOne({ owner_id: client.auth.user.id })\r\n      )\r\n      .then(docs => {\r\n        if (docs) {\r\n          this.setState({\r\n            profilePicture: docs.profilePicture || \"logo.png\",\r\n            tweets: docs.tweets,\r\n            timesOfTweets: docs.timesOfTweets,\r\n            username: docs.username,\r\n            following: docs.following || [],\r\n            owner_id: docs.owner_id\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  comment(item, value, key) {\r\n    console.log(item, value, key);\r\n    if (key === 13 && value !== \"\") {\r\n      console.log(\"Enter pressed\");\r\n      this.user\r\n        .then(() =>\r\n          this.db.collection(\"test\").findOne({ owner_id: item.owner_id })\r\n        )\r\n        .then(docs => {\r\n          let index = docs.timesOfTweets.indexOf(item.timesOfTweet);\r\n          console.log(index);\r\n          let tweets = docs.tweets;\r\n          tweets[index] =\r\n            tweets[index] +\r\n            \"&?\" +\r\n            value +\r\n            \" :\" +\r\n            \"@\" +\r\n            this.state.username.toLowerCase().replace(/\\s/g, \"\");\r\n          console.log(tweets);\r\n          this.checkForChanges();\r\n          this.db\r\n            .collection(\"test\")\r\n            .updateOne(\r\n              { owner_id: item.owner_id },\r\n              {\r\n                $set: {\r\n                  tweets: tweets\r\n                }\r\n              },\r\n              { upsert: true }\r\n            )\r\n            .catch(err => {\r\n              console.error(err);\r\n            });\r\n          if (item.owner_id === client.auth.user.id) {\r\n            this.setState({\r\n              tweets: tweets\r\n            });\r\n          } else {\r\n            this.checkForChanges();\r\n            this.updateDb();\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  }\r\n  checkForChanges() {\r\n    let list = [];\r\n    for (let i = 0; i < this.state.following.length; i++) {\r\n      list.push(this.state.following[i].owner_id);\r\n    }\r\n    this.db\r\n      .collection(\"test\")\r\n      .find({\r\n        owner_id: {\r\n          $in: list\r\n        }\r\n      })\r\n      .toArray()\r\n      .then(results => {\r\n        let resultsSorted = results.sort((a, b) =>\r\n          a.owner_id > b.owner_id ? 1 : b.owner_id > a.owner_id ? -1 : 0\r\n        );\r\n        let followingSorted = this.state.following.sort((a, b) =>\r\n          a.owner_id > b.owner_id ? 1 : b.owner_id > a.owner_id ? -1 : 0\r\n        );\r\n        for (let i = 0; i < followingSorted.length; i++) {\r\n          for (let j = 0; j < resultsSorted[i].tweets.length; j++) {\r\n            if (\r\n              resultsSorted[i].tweets[j] !== followingSorted[i].tweets[j] ||\r\n              resultsSorted[i].profilePicture !==\r\n                followingSorted[i].profilePicture\r\n            ) {\r\n              this.setState({\r\n                following: resultsSorted\r\n              });\r\n              console.log(\"change in following\");\r\n            }\r\n          }\r\n        }\r\n      });\r\n  }\r\n  checkForOwnChanges() {\r\n    this.user\r\n      .then(() =>\r\n        this.db.collection(\"test\").findOne({ owner_id: client.auth.user.id })\r\n      )\r\n      .then(docs => {\r\n        for (let i = 0; i < docs.tweets.length; i++) {\r\n          if (docs.tweets[i] !== this.state.tweets[i]) {\r\n            console.log(\r\n              \"base: \",\r\n              docs.tweets[i],\r\n              \"state: \",\r\n              this.state.tweets[i]\r\n            );\r\n            this.setState({\r\n              tweets: docs.tweets\r\n            });\r\n          } else break;\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n  componentDidMount() {\r\n    this.registerEmail(this.state.email, this.state.password);\r\n    this.setIntitalState();\r\n    this.interval = setInterval(() => this.checkForChanges(), 1000);\r\n    this.selfInterval = setInterval(() => this.checkForOwnChanges(), 1000);\r\n    console.log(client);\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      this.state.profilePicture !== prevState.profilePicture ||\r\n      this.state.tweets !== prevState.tweets ||\r\n      this.state.username !== prevState.username ||\r\n      this.state.following !== prevState.following ||\r\n      this.state.home !== prevState.home\r\n    ) {\r\n      this.checkForChanges();\r\n      this.updateDb();\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n  render() {\r\n    if (this.state.username === \"\") {\r\n      return (\r\n        <div className='login-container animation'>\r\n          <div className='logo-container'>\r\n            <img src='logo.png' alt='logo' />\r\n          </div>\r\n          <p>\r\n            Welcome to Twudder (like a twitter, but with no annoying tweets)\r\n          </p>\r\n          <div className='username-input-container'>\r\n            <input\r\n              id='username-input'\r\n              type='text'\r\n              value={this.state.usernameValue}\r\n              onChange={this.usernameInput}\r\n              onKeyDown={this.usernameInputKeyHandler}\r\n            />\r\n            <label className='username-input-label' htmlFor='username-input'>\r\n              Please enter your name and press Enter\r\n            </label>\r\n          </div>\r\n          <input\r\n            type='text'\r\n            value={this.state.email}\r\n            onChange={this.emailInput}\r\n          />\r\n          <input\r\n            type='secret'\r\n            value={this.state.password}\r\n            onChange={this.passwordInput}\r\n          />\r\n          <button\r\n            onClick={() =>\r\n              this.registerEmail(this.state.email, this.state.password)\r\n            }\r\n          >\r\n            Register\r\n          </button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <div className='search-container'>\r\n            <div className='search-input-container'>\r\n              <input\r\n                id='search'\r\n                type='text'\r\n                value={this.state.search}\r\n                onChange={this.getSearch}\r\n                placeholder='Search...'\r\n              />\r\n              <button onClick={this.clearSearch}>Clear</button>\r\n            </div>\r\n            {!this.state.searchEmpty ? (\r\n              <SearchResults\r\n                searchResultsArray={this.state.searchResultsArray}\r\n                following={this.state.following}\r\n                follow={this.follow}\r\n                unfollow={this.unfollow}\r\n              />\r\n            ) : null}\r\n          </div>\r\n          <div className='container'>\r\n            <div className='profile-container'>\r\n              <Profile\r\n                profilePicture={this.state.profilePicture}\r\n                username={this.state.username}\r\n                usernameShort={\r\n                  \"@\" + this.state.username.toLowerCase().replace(/\\s/g, \"\")\r\n                }\r\n                tweetCounter={this.state.tweets.length}\r\n              />\r\n              <div className='uploader'>\r\n                <label htmlFor='file'>Change Picture:</label>{\" \"}\r\n                <Uploader\r\n                  id='file'\r\n                  name='file'\r\n                  data-tabs='file camera'\r\n                  onChange={file => {\r\n                    console.log(\"File changed: \", file);\r\n                    if (file) {\r\n                      file.progress(info =>\r\n                        console.log(\"File progress: \", info.progress)\r\n                      );\r\n                      file.done(info => console.log(\"File uploaded: \", info));\r\n                    }\r\n                  }}\r\n                  onUploadComplete={info => this.uploadPicture(info)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className='buttons-and-tweets'>\r\n              <div className='buttons-container'>\r\n                <button\r\n                  className={this.state.home ? \"button --active\" : \"button\"}\r\n                  onClick={() => this.setState({ home: true })}\r\n                >\r\n                  Home\r\n                </button>\r\n                <button\r\n                  className={this.state.home ? \"button\" : \"button --active\"}\r\n                  onClick={() => this.setState({ home: false })}\r\n                >\r\n                  Feed\r\n                </button>\r\n              </div>\r\n              <div className='tweets-container'>\r\n                {this.state.home ? (\r\n                  <div className='post-container'>\r\n                    <input\r\n                      id='post'\r\n                      type='text'\r\n                      value={this.state.tweetValue}\r\n                      onChange={this.handleTweetChange}\r\n                      onKeyDown={this.handleTweetKeyDown}\r\n                    />\r\n                    <label className='post-label' htmlFor='post'>\r\n                      Please enter your tweet and press Enter\r\n                    </label>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {this.state.home ? (\r\n                  <TweetBox\r\n                    tweets={this.state.tweets}\r\n                    timesOfTweets={this.state.timesOfTweets}\r\n                    profilePicture={this.state.profilePicture}\r\n                    usernameShort={\r\n                      \"@\" + this.state.username.toLowerCase().replace(/\\s/g, \"\")\r\n                    }\r\n                    comment={this.comment}\r\n                    owner_id={this.state.owner_id}\r\n                  />\r\n                ) : (\r\n                  <NewTweetBox\r\n                    tweets={this.state.following}\r\n                    comment={this.comment}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport AppRouter from \"./AppRouter\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<AppRouter />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}